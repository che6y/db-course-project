extends ../layout

block content
    include staff-nav.pug

    div(class="container")
        h3= title

        form(
        method="POST",
        action="/staff/positions")
            input(
            type="hidden",
            name="_csrf",
            value=csrfToken)
            div(class="form-group row")
                div(class="col-sm-5")
                    input(
                    type="text",
                    class="form-control",
                    name="name",
                    value="",
                    placeholder="Название")
                select(class="col-sm-4")
                    each item in data[1]
                        option(
                        value=item.id,
                        class="form-control"
                        )= item.name
                div(class="col-sm-3")
                    button(
                    class="btn btn-primary",
                    type="submit"
                    ) Добавить

        ul(class="list-group")
            each item in data[0]
                li(class="list-group-item d-flex align-items-center")
                    span(class="flex-grow-1")= item.name
                    span(class="flex-grow-1")= item.lab_name
                    a(
                    href="positions/" + item.id,
                    class="btn btn-success"
                    ) Изменить
                    form(
                    method="POST",
                    action="/staff/positions?_method=DELETE")
                        input(
                        type="hidden",
                        name="_csrf",
                        value=csrfToken)
                        input(
                        type="hidden",
                        name="id",
                        value=item.id)
                        button(
                        class="btn btn-danger",
                        type="submit"
                        ) Удалить